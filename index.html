<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O Jardim Cintilante de Lumina</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Lora:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Lora', serif;
            background: linear-gradient(135deg, #f0e6fa, #e6f7ff);
            color: #4a4a6b;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        #game-container {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 800px;
            padding: 30px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            box-sizing: border-box;
        }

        #game-image-container {
            width: 100%;
            height: 400px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            background-color: #eee; /* Cor de fundo para placeholders */
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2em;
            color: #999;
        }

        #game-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease-in-out;
        }

        #game-image:hover {
            transform: scale(1.02);
        }

        #game-text {
            background-color: rgba(245, 240, 250, 0.8);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            line-height: 1.6;
            font-size: 1.1em;
            color: #5d5d7a;
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        #current-text {
            font-family: 'Playfair Display', serif;
            font-size: 1.3em;
            color: #3b3b5c;
            margin: 0;
        }

        #choices-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }

        .choice-button {
            background-color: #a0c4ff;
            color: white;
            padding: 15px 25px;
            border: none;
            border-radius: 30px;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            font-family: 'Lora', serif;
            letter-spacing: 0.5px;
        }

        .choice-button:hover {
            background-color: #b3d1ff;
            transform: translateY(-2px);
        }

        .choice-button:active {
            transform: translateY(0);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        /* Responsividade Básica */
        @media (max-width: 768px) {
            #game-container {
                padding: 20px;
            }
            #game-image-container {
                height: 300px;
            }
            .choice-button {
                padding: 12px 20px;
                font-size: 1em;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            #game-container {
                padding: 15px;
                border-radius: 10px;
            }
            #game-image-container {
                height: 200px;
                border-radius: 10px;
            }
            #game-text {
                padding: 15px;
                font-size: 0.9em;
            }
            #current-text {
                font-size: 1.1em;
            }
            .choice-button {
                font-size: 0.9em;
                padding: 10px 15px;
            }
        }
    </style>
</head>
<body>
    <div id="game-container">
        <div id="game-image-container">
            <img id="game-image" src="" alt="Cenário do jogo">
        </div>
        <div id="game-text">
            <p id="current-text"></p>
        </div>
        <div id="choices-container">
        </div>
    </div>

    <script>
        // Imagens genéricas Base64 (1x1 pixel transparente ou preto)
        // Você pode substituir essas strings pelas suas próprias imagens Base64 se quiser personalizar!
        const TRANSPARENT_PIXEL = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";
        const BLACK_SQUARE = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="; // Usaremos um pixel preto para simular uma imagem

        const IMAGES = {
            // Placeholder images (can be replaced with actual Base64 image data)
            // Example: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgA..."
            background_forest: BLACK_SQUARE,
            diary_open: BLACK_SQUARE,
            forest_stream: BLACK_SQUARE,
            fairy_encounter: BLACK_SQUARE,
            pearl_found: BLACK_SQUARE,
            jardim_restaurado_parcial: BLACK_SQUARE,
            garden_restored_full: BLACK_SQUARE,
            crystal_cave_placeholder: BLACK_SQUARE,
            misty_peaks_placeholder: BLACK_SQUARE,
            dense_forest_placeholder: BLACK_SQUARE,
            // Adicione mais placeholders se expandir a história com novas imagens
        };

        const gameText = document.getElementById('current-text');
        const gameImage = document.getElementById('game-image');
        const choicesContainer = document.getElementById('choices-container');

        const scenes = {
            start: {
                text: "Bem-vinda ao mundo de Lumina. Você é Elara, uma tecelã de sonhos, e o destino da magia está em suas mãos. O Jardim Cintilante, outrora vibrante, agora está desbotado. Um antigo diário revela a verdade: as Pérolas Etéreas, fragmentos de luz mágica, devem ser encontradas para restaurar o Jardim.",
                image: "background_forest",
                choices: [
                    { text: "Abrir o diário e começar a busca.", nextScene: "readDiary" }
                ]
            },
            readDiary: {
                text: "Você folheia as páginas empoeiradas do diário. Ele fala de três Pérolas Etéreas, cada uma guardada em um reino elemental: a Floresta Murmurante, as Cavernas de Cristal e os Picos Nebulosos.",
                image: "diary_open",
                choices: [
                    { text: "Ir para a Floresta Murmurante.", nextScene: "forestPath" },
                    { text: "Explorar as Cavernas de Cristal.", nextScene: "crystalCaves" },
                    { text: "Subir os Picos Nebulosos.", nextScene: "mistyPeaks" }
                ]
            },
            forestPath: {
                text: "O ar da Floresta Murmurante é doce e úmido. Árvores antigas sussurram segredos enquanto seus galhos se entrelaçam, formando um teto verde. Um pequeno riacho cintila à sua frente.",
                image: "forest_stream",
                choices: [
                    { text: "Seguir o riacho.", nextScene: "followStream" },
                    { text: "Adentrar a densa floresta.", nextScene: "denseForest" }
                ]
            },
            followStream: {
                text: "Você segue o riacho, e a água brilhante guia seu caminho. De repente, uma pequena criatura alada, com asas translúcidas como de libélula, surge e acena para você.",
                image: "fairy_encounter",
                choices: [
                    { text: "Estender a mão para a criatura.", nextScene: "befriendFairy" },
                    { text: "Observar de longe.", nextScene: "observeFairy" }
                ]
            },
            befriendFairy: {
                text: "A criatura voa até sua mão, pousando suavemente. Ela irradia uma luz suave e te guia até um arbusto de amoras mágicas, onde a primeira Pérola Etérea repousa.",
                image: "pearl_found",
                choices: [
                    { text: "Pegar a Pérola Etérea.", nextScene: "pearl1Collected" }
                ]
            },
            pearl1Collected: {
                text: "A primeira Pérola Etérea agora está em suas mãos. Uma parte do Jardim Cintilante parece ter se reerguido em seu coração. Você sente que o caminho para as outras pérolas se revelará em breve. Qual o próximo passo?",
                image: "jardim_restaurado_parcial",
                choices: [
                    { text: "Explorar as Cavernas de Cristal.", nextScene: "crystalCaves" },
                    { text: "Subir os Picos Nebulosos.", nextScene: "mistyPeaks" },
                    { text: "Voltar para o início e repensar.", nextScene: "readDiary" }
                ]
            },
            // Placeholder para as outras cenas. Você deve expandir a história aqui!
            crystalCaves: {
                text: "Você se aventura nas Cavernas de Cristal. As paredes brilham com cristais cintilantes. O que você faz?",
                image: "crystal_cave_placeholder",
                choices: [
                    { text: "Explorar mais fundo.", nextScene: "exploreCaves" },
                    { text: "Procurar uma saída.", nextScene: "readDiary" }
                ]
            },
            exploreCaves: {
                text: "Profundo nas cavernas, você encontra uma fonte de luz mística. Parece ser o lar de criaturas subterrâneas pacíficas.",
                image: "crystal_cave_placeholder",
                choices: [
                    { text: "Interagir com as criaturas.", nextScene: "befriendGoblins" },
                    { text: "Seguir em frente.", nextScene: "findCrystalPearl" }
                ]
            },
            findCrystalPearl: {
                text: "Seguindo seu instinto, você encontra um cristal gigante que pulsa com energia. Dentro dele, a segunda Pérola Etérea brilha.",
                image: "pearl_found", // Reutilizando a imagem da pérola
                choices: [
                    { text: "Pegar a Pérola Etérea.", nextScene: "pearl2Collected" }
                ]
            },
            pearl2Collected: {
                text: "Duas Pérolas Etéreas em sua posse! O Jardim Cintilante ganha mais vida. A última pérola aguarda nos picos.",
                image: "jardim_restaurado_parcial", // Reutilizando imagem
                choices: [
                    { text: "Subir os Picos Nebulosos.", nextScene: "mistyPeaks" },
                    { text: "Voltar e revisar o diário.", nextScene: "readDiary" }
                ]
            },
            mistyPeaks: {
                text: "Os Picos Nebulosos estão envoltos em uma névoa densa. O ar é frio e ralo. Uma brisa gélida te envolve.",
                image: "misty_peaks_placeholder",
                choices: [
                    { text: "Subir a trilha íngreme.", nextScene: "climbPeaks" },
                    { text: "Procurar um abrigo.", nextScene: "readDiary" }
                ]
            },
            climbPeaks: {
                text: "A escalada é árdua, mas você persevera. No topo, uma plataforma antiga se revela, guardada por uma aura serena.",
                image: "misty_peaks_placeholder",
                choices: [
                    { text: "Aproximar-se da aura.", nextScene: "findSkyPearl" }
                ]
            },
            findSkyPearl: {
                text: "A aura se dissipa, revelando um pedestal onde a terceira e última Pérola Etérea flutua, vibrando com a energia do céu.",
                image: "pearl_found", // Reutilizando imagem
                choices: [
                    { text: "Pegar a Pérola Etérea.", nextScene: "pearl3Collected" }
                ]
            },
            pearl3Collected: {
                text: "Com todas as três Pérolas Etéreas em suas mãos, uma luz deslumbrante emana de você. O Jardim Cintilante está completo!",
                image: "garden_restored_full",
                choices: [
                    { text: "Ver o final feliz!", nextScene: "endGame" }
                ]
            },
            denseForest: {
                text: "Você decide adentrar a densa floresta. O cheiro de terra e folhas é forte. A luz do sol mal penetra as copas das árvores.",
                image: "dense_forest_placeholder",
                choices: [
                    { text: "Procurar por sinais de vida.", nextScene: "findCreature" },
                    { text: "Tentar encontrar o riacho novamente.", nextScene: "forestPath" }
                ]
            },
            findCreature: {
                text: "Entre as árvores, você avista um pequeno cervo com chifres que brilham suavemente. Ele parece ferido.",
                image: "dense_forest_placeholder", // Crie uma imagem de cervo ferido se quiser personalizar
                choices: [
                    { text: "Tentar ajudar o cervo.", nextScene: "helpDeer" },
                    { text: "Continuar seu caminho.", nextScene: "readDiary" }
                ]
            },
            observeFairy: {
                text: "Você observa a criatura alada de longe. Ela parece brincar com as flores, mas depois desaparece na folhagem. Você perde a chance de interagir com ela.",
                image: "forest_stream",
                choices: [
                    { text: "Continuar seguindo o riacho.", nextScene: "forestPath" },
                    { text: "Adentrar a densa floresta.", nextScene: "denseForest" }
                ]
            },
            endGame: {
                text: "Parabéns, Elara! Você restaurou o Jardim Cintilante à sua antiga glória e trouxe a magia de volta a Lumina. Seu ato de coragem e bondade garantiu um futuro brilhante para o reino. O Jardim floresce novamente, um testemunho eterno da sua jornada. Sua aventura inspira a todos!",
                image: "garden_restored_full",
                choices: [
                    { text: "Jogar novamente?", nextScene: "start" }
                ]
            },
             // Cena de um final "neutro" ou de falha, se quiser adicionar
            gameOver: {
                text: "Sua jornada chegou a um fim inesperado. O Jardim Cintilante permanece adormecido. Tente novamente para restaurar a magia de Lumina!",
                image: BLACK_SQUARE, // Imagem de Game Over
                choices: [
                    { text: "Recomeçar.", nextScene: "start" }
                ]
            }
        };

        let currentScene = "start";

        function displayScene(sceneName) {
            const scene = scenes[sceneName];
            if (!scene) {
                console.error("Cena não encontrada:", sceneName);
                displayScene("gameOver"); // Leva para uma tela de erro/game over se a cena não existir
                return;
            }

            gameText.textContent = scene.text;
            gameImage.src = IMAGES[scene.image] || BLACK_SQUARE; // Garante que a imagem seja um placeholder se não definida
            
            choicesContainer.innerHTML = '';

            scene.choices.forEach(choice => {
                const button = document.createElement('button');
                button.classList.add('choice-button');
                button.textContent = choice.text;
                button.dataset.choice = choice.nextScene;
                button.addEventListener('click', () => makeChoice(choice.nextScene));
                choicesContainer.appendChild(button);
            });
        }

        function makeChoice(nextSceneName) {
            currentScene = nextSceneName;
            displayScene(currentScene);
        }

        document.addEventListener('DOMContentLoaded', () => {
            displayScene(currentScene);
        });
    </script>
</body>
</html>
